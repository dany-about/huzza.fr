 <div class="card-body">
    <div class="row row-grid mx-auto my-auto">
      <div class="col-lg-12">
        <div class="row">
          <div class="col-6">
            <% if event.is_a?(Participation) %>

              <!-- DISPLAY IMAGES PROOF -->
              <%if event.pictures.attached?%>
                <% event.pictures.each do |picture| %>
                  <%= image_tag picture, class: 'img-fluid rounded' %>
                <% end %>

              <% end %>
              <!-- DISPLAY VIDEOS PROOF -->
              <%if event.videos.attached?%>
                <% event.videos.each do |video| %>

                  <!-- Custom video.js -->
                  <video id='my-video' class='video-js' controls preload='auto' width='640' height='264' data-setup='{}'>
                    <source src='<%= url_for(video) %>' type='video/mp4'>
                  </video>

                <% end %>
              <% end %>

              <% if current_user == event.user %>
                <!-- Bouton pour upload sa preuve (attacher la photo) -->
                <h3>Ajouter une preuve image</h3>

                <!-- ADD FORM -->
                <%= form_tag participation_pictures_path(event), multipart: true do %>
                  <%= file_field_tag :pictures %>
                  <%= submit_tag "mettre à jour" %>

                <% end %>

                <h3>Ajouter une preuve vidéo</h3>
                <%= form_tag participation_videos_path(event), multipart: true do %>
                  <%= file_field_tag :clip %>
                  <%= hidden_field_tag :participation_id %>
                  <%= submit_tag "mettre à jour" %>
                <% end %>



              <% elsif current_user != event.user && event.is_achieved == nil %>

                <!-- Bouton pour contester la validité des preuves -->

              <% else %>

              <% end %>



              <% else %>
                <!-- Si le défi est un dare -->
              <%= debug event.class.name %>
              Ce défi n'a pas encore de participants
              <% end %>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
    'use strict';

    var video = videojs('my-video');
    video.socialShare({
        facebook: { // optional, includes a Facebook share button (See the [Facebook documentation](https://developers.facebook.com/docs/sharing/reference/share-dialog) for more information)
            shareUrl: '', // optional, defaults to window.location.href
            shareImage: '', // optional, defaults to the Facebook-scraped image
            shareText: '',  // optional
            app_id: '', // optional, facebook app_id to use (if not specified, the plugin will try to
                        // use an existing FB Javascript object, or it will try to scrape the app_id from the
                        // <meta property="fb:app_id"> element in the document
        },
        twitter: { // optional, includes a Twitter share button (See the [Twitter documentation](https://dev.twitter.com/web/tweet-button/web-intent) for more information)
            handle: '', // optional, appends `via @handle` to the end of the tweet
            shareUrl: '', // optional, defaults to window.location.href
            shareText: ''
        },
        embed: { // optional, includes an embed code button
            embedMarkup: 'YOURMARKUPHERE' // required
        }
    });
</script>
